<!DOCTYPE html>
<html lang="en">
  <head>
    <%- include('../partials/head') %>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.5.10/clipboard.min.js"></script>
    <script src="js/util/http.js" type="text/javascript"></script>
    <script src="js/host.js" type="text/javascript"></script>
    <script>
      function onlyOne(checkbox) {
        var checkboxes = document.getElementsByName('optionBG');
        checkboxes.forEach((item) => {
          if (item !== checkbox) item.checked = false;
        });
      }
    </script>
  </head>

  <body>
    <div id="credentials" style="display: none" data="<%= credentials %>"></div>
    <div id="main" class="main-container-host">
      <div class="left-container">
        <div class="left-container-header">Video Broadcast Streams</div>
        <div id="videoContainer" class="video-container">
          <div id="hostDivider" class="hidden"></div>
        </div>
        <div class="broadcast-controls-container"></div>
      </div>
      <div class="right-container">
        <div class="broadcast-controls-container">
          <div class="rtmp-container">
            <div id="rtmpLabel">Want to stream to YouTube Live or Facebook Live? <br />Add your RTMP Server URL and Stream Name:</div>
            <div class="hidden error" id="rtmpError">
              The entered RTMP server and/or stream name are not valid. Please check the url and try again.
            </div>
            <span id="rtmpActive" class="hidden active">Your RTMP stream is active!</span>
            <div id="rtmpInputContainer" class="input-container">
              <input id="rtmpServer" type="url" placeholder="rtmp://myrtmpserver/mybroadcastapp" />
              <input id="rtmpStream" type="text" placeholder="myStreamName" />
            </div>
            <div id="rtmp-options" class="rtmp-options">
              <div class="options-input">
                <input type="checkbox" id="hls-ll" name="Low Latency HLS" value="Low Latency" />
                <label for="hls-ll"> Low Latency HLS</label>
              </div>
              <div class="options-input">
                <input type="checkbox" id="hls-HD" name="Full HD HLS" value="FHD 1080p" />
                <label for="hls-HD"> FHD 1080p </label><br />
              </div>
              <div class="options-input">
                <input type="checkbox" id="hls-dvr" name="DVR HLS" value="DVR" />
                <label for="hls-dvr"> DVR </label><br />
              </div>
            </div>
          </div>
          <div>
            <button id="startStop" class="btn-broadcast hidden">Start Broadcast</button>
          </div>

          <div style="margin-top: 30px">
            <span>If you prefer a Experience Composer view, you can select a background Image</span>
            <div id="bg-options" class="rtmp-options">
              <div class="options-input bg-options">
                <input type="checkbox" id="bg0" name="optionBG" onclick="onlyOne(this)" value="stellat" />
                <label class="bgLabel" for="bg0">Space Stellar</label>
                <img src="https://wallpaperaccess.com/full/5497307.jpg" width="70px" height="40px" alt="" />
              </div>
              <div class="options-input bg-options">
                <input type="checkbox" id="bg1" name="optionBG" onclick="onlyOne(this)" value="vonage" />
                <label class="bgLabel" for="bg1">Vonage fade</label><br />
                <img
                  src="https://raw.githubusercontent.com/nexmo-community/video-green-screen/main/vonage-gradient.png"
                  width="70px"
                  height="40px"
                  alt=""
                />
              </div>
              <div class="options-input bg-options">
                <input type="checkbox" id="bg2" name="optionBG" onclick="onlyOne(this)" value="wave" />
                <label class="bgLabel" for="bg2"> Futuristic wave </label><br />
                <img src="https://wallpaperaccess.com/full/6060256.jpg" width="70px" height="40px" alt="" />
              </div>
            </div>
          </div>
          <div id="bg-options" class="rtmp-options">
            <span>Do you want the video tile to be rounded?</span>
            <div class="options-input bg-options">
              <input type="checkbox" id="roundyes" name="roundVideo" value="yes" />
              <label class="bgLabel" for="bg0">Round video</label>
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
